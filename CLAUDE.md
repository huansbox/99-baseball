# 隕石數學防衛隊 Meteor Math Defense

## 專案概要

- **類型**：9x9 乘法練習遊戲（太空隕石主題）
- **平台**：iPad Safari 觸控優化
- **部署**：GitHub Pages 靜態網站
- **技術**：單檔 HTML + CSS + Vanilla JS（無框架依賴）

---

## 遊戲機制

### 三關卡制

| 關卡 | 題數 | 間隔 | 落速 (px/frame) | 倍率 | Easy% |
|------|------|------|-----------------|------|-------|
| 1    | 10   | 4s   | 0.6 ~ 0.9       | x1.0 | 70%   |
| 2    | 15   | 3s   | 0.9 ~ 1.2       | x1.5 | 40%   |
| 3    | 20   | 2s   | 1.2 ~ 1.5       | x2.0 | 20%   |

### 題庫分類

- **Easy**：×1, ×2, ×5, ×10 組合（72 題）
- **Normal**：×3, ×4, ×6, ×7, ×8, ×9 互乘（36 題）

### 得分區域

| 區域 | Y 範圍 | 基礎分 |
|------|--------|--------|
| 天空 | 0-30%  | 100    |
| 高空 | 30-60% | 80     |
| 低空 | 60-85% | 60     |
| 地面 | 85%+   | 40     |

**最終得分 = 基礎分 × 關卡倍率**

### 操作介面

- 數字鍵盤：`12345C / 67890` 兩行
- 輸入後自動提交（延遲 300-800ms）
- 答對：砲彈擊毀隕石 + 得分
- 答錯：螢幕震動 + 可重試

---

## 核心類別

### RecordsManager
- `getRecords()` → 取得前 10 名記錄
- `saveRecord(score)` → 儲存並回傳排名
- `getHighScore()` → 取得最高分

### Game
- `generateQuestion()` → 依 easyRatio 抽題
- `fireCannon(meteor)` → 發射動畫
- `destroyMeteor(meteor)` → 爆炸 + 計分
- `showLeaderboard()` → 顯示排行榜

---

## 待實作

### P3：錯題追蹤（暫緩）
- 街機節奏快，錯題重練價值較低
- 若需實作，建議 session 內重複出題

---

## 技術決策

| 項目 | 選擇 | 理由 |
|------|------|------|
| 架構 | 單檔 HTML | 簡化部署、易於維護 |
| 動畫 | CSS + DOM | 簡單效果足夠、無需 Canvas |
| 存儲 | localStorage | 離線可用、無後端 |
| 迴圈 | requestAnimationFrame | 流暢 60fps |

---

## Git 分支策略

- `main`：穩定版本
- `feat/*`：新功能
- `fix/*`：Bug 修復
